{"version":3,"sources":["../../../feature-libs/user/account/occ/adapters/config/default-occ-user-account-endpoint.config.ts","../../../feature-libs/user/account/occ/adapters/occ-user-account.adapter.ts","../../../feature-libs/user/account/occ/user-account-occ.module.ts"],"names":["defaultOccUserAccountConfig","backend","occ","endpoints","user","OccUserAccountAdapter","http","occEndpoints","converter","this","prototype","load","userId","url","getUrl","get","pipe","catchError","error","throwError","normalizeHttpError","pipeable","USER_ACCOUNT_NORMALIZER","Injectable","HttpClient","OccEndpointsService","ConverterService","NgModule","args","providers","provideDefaultConfig","provide","UserAccountAdapter","useClass"],"mappings":"wxBAEaA,EAAyC,CACpDC,QAAS,CACPC,IAAK,CAAEC,UAAW,CAAEC,KAAM,mCCc5B,SAAAC,EACYC,EACAC,EACAC,GAFAC,KAAAH,KAAAA,EACAG,KAAAF,aAAAA,EACAE,KAAAD,UAAAA,SAGZH,EAAAK,UAAAC,KAAA,SAAKC,GACH,IAAMC,EAAMJ,KAAKF,aAAaO,OAAO,OAAQ,CAAEF,OAAMA,IACrD,OAAOH,KAAKH,KAAKS,IAAcF,GAAKG,KAClCC,EAAAA,YAAW,SAACC,GAAU,OAAAC,EAAAA,WAAWC,EAAAA,mBAAmBF,OACpDT,KAAKD,UAAUa,SAASC,EAAAA,oDAZ7BC,EAAAA,sDAhBQC,EAAAA,kBAMPC,EAAAA,2BAHAC,EAAAA,0BCSF,iCANCC,EAAAA,SAAQC,KAAA,CAAC,CACRC,UAAW,CACTC,EAAAA,qBAAqB9B,GACrB,CAAE+B,QAASC,EAAAA,mBAAoBC,SAAU5B","sourcesContent":["import { OccConfig } from '@spartacus/core';\n\nexport const defaultOccUserAccountConfig: OccConfig = {\n  backend: {\n    occ: { endpoints: { user: 'users/${userId}' } },\n  },\n};\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport {\n  ConverterService,\n  normalizeHttpError,\n  Occ,\n  OccEndpointsService,\n} from '@spartacus/core';\nimport {\n  USER_ACCOUNT_NORMALIZER,\n  UserAccountAdapter,\n} from '@spartacus/user/account/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class OccUserAccountAdapter implements UserAccountAdapter {\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  load(userId: string): Observable<User> {\n    const url = this.occEndpoints.getUrl('user', { userId });\n    return this.http.get<Occ.User>(url).pipe(\n      catchError((error) => throwError(normalizeHttpError(error))),\n      this.converter.pipeable(USER_ACCOUNT_NORMALIZER)\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { UserAccountAdapter } from '@spartacus/user/account/core';\nimport { defaultOccUserAccountConfig } from './adapters/config/default-occ-user-account-endpoint.config';\nimport { OccUserAccountAdapter } from './adapters/occ-user-account.adapter';\n\n@NgModule({\n  providers: [\n    provideDefaultConfig(defaultOccUserAccountConfig),\n    { provide: UserAccountAdapter, useClass: OccUserAccountAdapter },\n  ],\n})\nexport class UserAccountOccModule {}\n"]}