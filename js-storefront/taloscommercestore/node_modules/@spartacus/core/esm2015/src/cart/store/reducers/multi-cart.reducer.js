import { CartActions } from '../actions/index';
export const activeCartInitialState = null;
export const activeCartDefaultState = '';
export const wishListInitialState = '';
export function activeCartReducer(state = activeCartDefaultState, action) {
    var _a, _b, _c;
    switch (action.type) {
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        // point to `temp-${uuid}` cart when we are creating/merging cart
        case CartActions.CREATE_CART:
            if ((_b = (_a = action === null || action === void 0 ? void 0 : action.payload) === null || _a === void 0 ? void 0 : _a.extraData) === null || _b === void 0 ? void 0 : _b.active) {
                return action.meta.entityId;
            }
            else {
                return state;
            }
        case CartActions.SET_ACTIVE_CART_ID:
            return action.payload;
        case CartActions.REMOVE_CART:
        case CartActions.DELETE_CART_SUCCESS:
            if (((_c = action.payload) === null || _c === void 0 ? void 0 : _c.cartId) === state) {
                return activeCartDefaultState;
            }
            return state;
        case CartActions.CLEAR_CART_STATE:
            return state === activeCartInitialState
                ? activeCartInitialState
                : activeCartDefaultState;
    }
    return state;
}
export const cartEntitiesInitialState = undefined;
export function cartEntitiesReducer(state = cartEntitiesInitialState, action) {
    switch (action.type) {
        case CartActions.LOAD_CARTS_SUCCESS:
            return action.payload;
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        case CartActions.CREATE_WISH_LIST_SUCCESS:
        case CartActions.LOAD_WISH_LIST_SUCCESS:
        case CartActions.SET_TEMP_CART:
            return action.payload.cart;
    }
    return state;
}
export function wishListReducer(state = wishListInitialState, action) {
    switch (action.type) {
        case CartActions.CREATE_WISH_LIST_SUCCESS:
        case CartActions.LOAD_WISH_LIST_SUCCESS:
            return action.meta.entityId;
        case CartActions.CLEAR_CART_STATE:
            return wishListInitialState;
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktY2FydC5yZWR1Y2VyLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL1BhdHJ5ay9EZXNrdG9wL3NwYXJ0YWN1cy9wcm9qZWN0cy9jb3JlLyIsInNvdXJjZXMiOlsic3JjL2NhcnQvc3RvcmUvcmVkdWNlcnMvbXVsdGktY2FydC5yZWR1Y2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUvQyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxJQUFJLENBQUM7QUFDM0MsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsRUFBRSxDQUFDO0FBQ3pDLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixHQUFHLEVBQUUsQ0FBQztBQUV2QyxNQUFNLFVBQVUsaUJBQWlCLENBQy9CLEtBQUssR0FBRyxzQkFBc0IsRUFDOUIsTUFBNkQ7O0lBRTdELFFBQVEsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNuQixLQUFLLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztRQUNuQyxLQUFLLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztRQUNyQyxpRUFBaUU7UUFDakUsS0FBSyxXQUFXLENBQUMsV0FBVztZQUMxQixnQkFBSSxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsT0FBTywwQ0FBRSxTQUFTLDBDQUFFLE1BQU0sRUFBRTtnQkFDdEMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQWtCLENBQUM7YUFDdkM7aUJBQU07Z0JBQ0wsT0FBTyxLQUFLLENBQUM7YUFDZDtRQUNILEtBQUssV0FBVyxDQUFDLGtCQUFrQjtZQUNqQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDeEIsS0FBSyxXQUFXLENBQUMsV0FBVyxDQUFDO1FBQzdCLEtBQUssV0FBVyxDQUFDLG1CQUFtQjtZQUNsQyxJQUFJLE9BQUEsTUFBTSxDQUFDLE9BQU8sMENBQUUsTUFBTSxNQUFLLEtBQUssRUFBRTtnQkFDcEMsT0FBTyxzQkFBc0IsQ0FBQzthQUMvQjtZQUNELE9BQU8sS0FBSyxDQUFDO1FBQ2YsS0FBSyxXQUFXLENBQUMsZ0JBQWdCO1lBQy9CLE9BQU8sS0FBSyxLQUFLLHNCQUFzQjtnQkFDckMsQ0FBQyxDQUFDLHNCQUFzQjtnQkFDeEIsQ0FBQyxDQUFDLHNCQUFzQixDQUFDO0tBQzlCO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsU0FBUyxDQUFDO0FBRWxELE1BQU0sVUFBVSxtQkFBbUIsQ0FDakMsS0FBSyxHQUFHLHdCQUF3QixFQUNoQyxNQUFvQjtJQUVwQixRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDbkIsS0FBSyxXQUFXLENBQUMsa0JBQWtCO1lBQ2pDLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUV4QixLQUFLLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztRQUNuQyxLQUFLLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztRQUNyQyxLQUFLLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztRQUMxQyxLQUFLLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQztRQUN4QyxLQUFLLFdBQVcsQ0FBQyxhQUFhO1lBQzVCLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7S0FDOUI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLFVBQVUsZUFBZSxDQUM3QixLQUFLLEdBQUcsb0JBQW9CLEVBQzVCLE1BQWdFO0lBRWhFLFFBQVEsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNuQixLQUFLLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztRQUMxQyxLQUFLLFdBQVcsQ0FBQyxzQkFBc0I7WUFDckMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQWtCLENBQUM7UUFDeEMsS0FBSyxXQUFXLENBQUMsZ0JBQWdCO1lBQy9CLE9BQU8sb0JBQW9CLENBQUM7S0FDL0I7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXJ0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY2FydC5tb2RlbCc7XG5pbXBvcnQgeyBMb2FkZXJBY3Rpb24gfSBmcm9tICcuLi8uLi8uLi9zdGF0ZS91dGlscy9sb2FkZXIvbG9hZGVyLmFjdGlvbic7XG5pbXBvcnQgeyBDYXJ0QWN0aW9ucyB9IGZyb20gJy4uL2FjdGlvbnMvaW5kZXgnO1xuXG5leHBvcnQgY29uc3QgYWN0aXZlQ2FydEluaXRpYWxTdGF0ZSA9IG51bGw7XG5leHBvcnQgY29uc3QgYWN0aXZlQ2FydERlZmF1bHRTdGF0ZSA9ICcnO1xuZXhwb3J0IGNvbnN0IHdpc2hMaXN0SW5pdGlhbFN0YXRlID0gJyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3RpdmVDYXJ0UmVkdWNlcihcbiAgc3RhdGUgPSBhY3RpdmVDYXJ0RGVmYXVsdFN0YXRlLFxuICBhY3Rpb246IENhcnRBY3Rpb25zLkNhcnRBY3Rpb24gfCBDYXJ0QWN0aW9ucy5NdWx0aUNhcnRBY3Rpb25zXG4pOiBzdHJpbmcge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX0NBUlRfU1VDQ0VTUzpcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9DQVJUX1NVQ0NFU1M6XG4gICAgLy8gcG9pbnQgdG8gYHRlbXAtJHt1dWlkfWAgY2FydCB3aGVuIHdlIGFyZSBjcmVhdGluZy9tZXJnaW5nIGNhcnRcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9DQVJUOlxuICAgICAgaWYgKGFjdGlvbj8ucGF5bG9hZD8uZXh0cmFEYXRhPy5hY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5tZXRhLmVudGl0eUlkIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cbiAgICBjYXNlIENhcnRBY3Rpb25zLlNFVF9BQ1RJVkVfQ0FSVF9JRDpcbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZDtcbiAgICBjYXNlIENhcnRBY3Rpb25zLlJFTU9WRV9DQVJUOlxuICAgIGNhc2UgQ2FydEFjdGlvbnMuREVMRVRFX0NBUlRfU1VDQ0VTUzpcbiAgICAgIGlmIChhY3Rpb24ucGF5bG9hZD8uY2FydElkID09PSBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gYWN0aXZlQ2FydERlZmF1bHRTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNMRUFSX0NBUlRfU1RBVEU6XG4gICAgICByZXR1cm4gc3RhdGUgPT09IGFjdGl2ZUNhcnRJbml0aWFsU3RhdGVcbiAgICAgICAgPyBhY3RpdmVDYXJ0SW5pdGlhbFN0YXRlXG4gICAgICAgIDogYWN0aXZlQ2FydERlZmF1bHRTdGF0ZTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBjb25zdCBjYXJ0RW50aXRpZXNJbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXJ0RW50aXRpZXNSZWR1Y2VyKFxuICBzdGF0ZSA9IGNhcnRFbnRpdGllc0luaXRpYWxTdGF0ZSxcbiAgYWN0aW9uOiBMb2FkZXJBY3Rpb25cbik6IENhcnQge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX0NBUlRTX1NVQ0NFU1M6XG4gICAgICByZXR1cm4gYWN0aW9uLnBheWxvYWQ7XG5cbiAgICBjYXNlIENhcnRBY3Rpb25zLkxPQURfQ0FSVF9TVUNDRVNTOlxuICAgIGNhc2UgQ2FydEFjdGlvbnMuQ1JFQVRFX0NBUlRfU1VDQ0VTUzpcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9XSVNIX0xJU1RfU1VDQ0VTUzpcbiAgICBjYXNlIENhcnRBY3Rpb25zLkxPQURfV0lTSF9MSVNUX1NVQ0NFU1M6XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5TRVRfVEVNUF9DQVJUOlxuICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkLmNhcnQ7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2lzaExpc3RSZWR1Y2VyKFxuICBzdGF0ZSA9IHdpc2hMaXN0SW5pdGlhbFN0YXRlLFxuICBhY3Rpb246IENhcnRBY3Rpb25zLldpc2hMaXN0QWN0aW9ucyB8IENhcnRBY3Rpb25zLkNsZWFyQ2FydFN0YXRlXG4pOiBzdHJpbmcge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DUkVBVEVfV0lTSF9MSVNUX1NVQ0NFU1M6XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX1dJU0hfTElTVF9TVUNDRVNTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5tZXRhLmVudGl0eUlkIGFzIHN0cmluZztcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNMRUFSX0NBUlRfU1RBVEU6XG4gICAgICByZXR1cm4gd2lzaExpc3RJbml0aWFsU3RhdGU7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuIl19