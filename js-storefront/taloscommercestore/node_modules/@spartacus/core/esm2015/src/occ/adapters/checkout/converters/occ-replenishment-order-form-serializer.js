import { Injectable } from '@angular/core';
import { TimeUtils } from '../../../../util/time-utils';
import * as i0 from "@angular/core";
export class OccReplenishmentOrderFormSerializer {
    convert(source, target) {
        if (target === undefined) {
            target = Object.assign({}, source);
        }
        if (source.replenishmentStartDate) {
            target.replenishmentStartDate = this.convertDate(source.replenishmentStartDate);
        }
        return target;
    }
    /**
     * Adds the current timestamp (including timezone offset) to a date string in the format YYYY-mm-dd
     * @Example
     * Converts 2021-10-15 to 2021-10-15T15:38:05-05:00
     */
    convertDate(date) {
        const localTime = new Date().toLocaleTimeString([], {
            hour: '2-digit',
            minute: '2-digit',
            hour12: false,
        });
        return `${date}T${localTime}:00${TimeUtils.getLocalTimezoneOffset()}`;
    }
}
OccReplenishmentOrderFormSerializer.ɵprov = i0.ɵɵdefineInjectable({ factory: function OccReplenishmentOrderFormSerializer_Factory() { return new OccReplenishmentOrderFormSerializer(); }, token: OccReplenishmentOrderFormSerializer, providedIn: "root" });
OccReplenishmentOrderFormSerializer.decorators = [
    { type: Injectable, args: [{ providedIn: 'root' },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2NjLXJlcGxlbmlzaG1lbnQtb3JkZXItZm9ybS1zZXJpYWxpemVyLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL1BhdHJ5ay9EZXNrdG9wL3NwYXJ0YWN1cy9wcm9qZWN0cy9jb3JlLyIsInNvdXJjZXMiOlsic3JjL29jYy9hZGFwdGVycy9jaGVja291dC9jb252ZXJ0ZXJzL29jYy1yZXBsZW5pc2htZW50LW9yZGVyLWZvcm0tc2VyaWFsaXplci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQzs7QUFNeEQsTUFBTSxPQUFPLG1DQUFtQztJQUc5QyxPQUFPLENBQ0wsTUFBcUMsRUFDckMsTUFBa0M7UUFFbEMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3hCLE1BQU0scUJBQVMsTUFBYyxDQUFFLENBQUM7U0FDakM7UUFFRCxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRTtZQUNqQyxNQUFNLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FDOUMsTUFBTSxDQUFDLHNCQUFzQixDQUM5QixDQUFDO1NBQ0g7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNLLFdBQVcsQ0FBQyxJQUFZO1FBQzlCLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsa0JBQWtCLENBQUMsRUFBRSxFQUFFO1lBQ2xELElBQUksRUFBRSxTQUFTO1lBQ2YsTUFBTSxFQUFFLFNBQVM7WUFDakIsTUFBTSxFQUFFLEtBQUs7U0FDZCxDQUFDLENBQUM7UUFDSCxPQUFPLEdBQUcsSUFBSSxJQUFJLFNBQVMsTUFBTSxTQUFTLENBQUMsc0JBQXNCLEVBQUUsRUFBRSxDQUFDO0lBQ3hFLENBQUM7Ozs7WUFqQ0YsVUFBVSxTQUFDLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRpbWVVdGlscyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvdGltZS11dGlscyc7XG5pbXBvcnQgeyBTY2hlZHVsZVJlcGxlbmlzaG1lbnRGb3JtIH0gZnJvbSAnLi4vLi4vLi4vLi4vbW9kZWwvcmVwbGVuaXNobWVudC1vcmRlci5tb2RlbCc7XG5pbXBvcnQgeyBDb252ZXJ0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlsL2NvbnZlcnRlci5zZXJ2aWNlJztcbmltcG9ydCB7IE9jYyB9IGZyb20gJy4uLy4uLy4uL29jYy1tb2RlbHMvb2NjLm1vZGVscyc7XG5cbkBJbmplY3RhYmxlKHsgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pXG5leHBvcnQgY2xhc3MgT2NjUmVwbGVuaXNobWVudE9yZGVyRm9ybVNlcmlhbGl6ZXJcbiAgaW1wbGVtZW50c1xuICAgIENvbnZlcnRlcjxPY2MuU2NoZWR1bGVSZXBsZW5pc2htZW50Rm9ybSwgU2NoZWR1bGVSZXBsZW5pc2htZW50Rm9ybT4ge1xuICBjb252ZXJ0KFxuICAgIHNvdXJjZTogT2NjLlNjaGVkdWxlUmVwbGVuaXNobWVudEZvcm0sXG4gICAgdGFyZ2V0PzogU2NoZWR1bGVSZXBsZW5pc2htZW50Rm9ybVxuICApOiBTY2hlZHVsZVJlcGxlbmlzaG1lbnRGb3JtIHtcbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldCA9IHsgLi4uKHNvdXJjZSBhcyBhbnkpIH07XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZS5yZXBsZW5pc2htZW50U3RhcnREYXRlKSB7XG4gICAgICB0YXJnZXQucmVwbGVuaXNobWVudFN0YXJ0RGF0ZSA9IHRoaXMuY29udmVydERhdGUoXG4gICAgICAgIHNvdXJjZS5yZXBsZW5pc2htZW50U3RhcnREYXRlXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgY3VycmVudCB0aW1lc3RhbXAgKGluY2x1ZGluZyB0aW1lem9uZSBvZmZzZXQpIHRvIGEgZGF0ZSBzdHJpbmcgaW4gdGhlIGZvcm1hdCBZWVlZLW1tLWRkXG4gICAqIEBFeGFtcGxlXG4gICAqIENvbnZlcnRzIDIwMjEtMTAtMTUgdG8gMjAyMS0xMC0xNVQxNTozODowNS0wNTowMFxuICAgKi9cbiAgcHJpdmF0ZSBjb252ZXJ0RGF0ZShkYXRlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGxvY2FsVGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7XG4gICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgIGhvdXIxMjogZmFsc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIGAke2RhdGV9VCR7bG9jYWxUaW1lfTowMCR7VGltZVV0aWxzLmdldExvY2FsVGltZXpvbmVPZmZzZXQoKX1gO1xuICB9XG59XG4iXX0=