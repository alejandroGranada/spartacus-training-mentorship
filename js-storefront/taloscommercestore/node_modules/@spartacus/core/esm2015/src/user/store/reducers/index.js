import { InjectionToken } from '@angular/core';
import { combineReducers, } from '@ngrx/store';
import { AuthActions } from '../../../auth/user-auth/store/actions/index';
import { loaderReducer } from '../../../state/utils/loader/loader.reducer';
import { CUSTOMER_COUPONS, NOTIFICATION_PREFERENCES, PRODUCT_INTERESTS, REGIONS, USER_ADDRESSES, USER_CONSENTS, USER_COST_CENTERS, USER_ORDER_DETAILS, USER_ORDERS, USER_PAYMENT_METHODS, USER_REPLENISHMENT_ORDER_DETAILS, USER_REPLENISHMENT_ORDERS, USER_RETURN_REQUEST_DETAILS, USER_RETURN_REQUESTS, } from '../user-state';
import * as fromBillingCountriesReducer from './billing-countries.reducer';
import * as fromConsignmentTrackingReducer from './consignment-tracking.reducer';
import * as fromCustomerCouponReducer from './customer-coupon.reducer';
import * as fromDeliveryCountries from './delivery-countries.reducer';
import * as fromNotificationPreferenceReducer from './notification-preference.reducer';
import * as fromOrderDetailsReducer from './order-details.reducer';
import * as fromOrderReturnRequestReducer from './order-return-request.reducer';
import * as fromPaymentReducer from './payment-methods.reducer';
import * as fromInterestsReducer from './product-interests.reducer';
import * as fromRegionsReducer from './regions.reducer';
import * as fromReplenishmentOrderDetailsReducer from './replenishment-order-details.reducer';
import * as fromResetPasswordReducer from './reset-password.reducer';
import * as fromTitlesReducer from './titles.reducer';
import * as fromAddressesReducer from './user-addresses.reducer';
import * as fromUserConsentsReducer from './user-consents.reducer';
import * as fromCostCenterReducer from './user-cost-center.reducer';
import * as fromUserDetailsReducer from './user-details.reducer';
import * as fromUserOrdersReducer from './user-orders.reducer';
import * as fromUserReplenishmentOrdersReducer from './user-replenishment-orders.reducer';
export function getReducers() {
    return {
        account: combineReducers({
            details: fromUserDetailsReducer.reducer,
        }),
        addresses: loaderReducer(USER_ADDRESSES, fromAddressesReducer.reducer),
        billingCountries: fromBillingCountriesReducer.reducer,
        consents: loaderReducer(USER_CONSENTS, fromUserConsentsReducer.reducer),
        payments: loaderReducer(USER_PAYMENT_METHODS, fromPaymentReducer.reducer),
        orders: loaderReducer(USER_ORDERS, fromUserOrdersReducer.reducer),
        order: loaderReducer(USER_ORDER_DETAILS, fromOrderDetailsReducer.reducer),
        replenishmentOrders: loaderReducer(USER_REPLENISHMENT_ORDERS, fromUserReplenishmentOrdersReducer.reducer),
        orderReturn: loaderReducer(USER_RETURN_REQUEST_DETAILS),
        orderReturnList: loaderReducer(USER_RETURN_REQUESTS, fromOrderReturnRequestReducer.reducer),
        countries: fromDeliveryCountries.reducer,
        titles: fromTitlesReducer.reducer,
        regions: loaderReducer(REGIONS, fromRegionsReducer.reducer),
        resetPassword: fromResetPasswordReducer.reducer,
        consignmentTracking: fromConsignmentTrackingReducer.reducer,
        customerCoupons: loaderReducer(CUSTOMER_COUPONS, fromCustomerCouponReducer.reducer),
        notificationPreferences: loaderReducer(NOTIFICATION_PREFERENCES, fromNotificationPreferenceReducer.reducer),
        productInterests: loaderReducer(PRODUCT_INTERESTS, fromInterestsReducer.reducer),
        costCenters: loaderReducer(USER_COST_CENTERS, fromCostCenterReducer.reducer),
        replenishmentOrder: loaderReducer(USER_REPLENISHMENT_ORDER_DETAILS, fromReplenishmentOrderDetailsReducer.reducer),
    };
}
export const reducerToken = new InjectionToken('UserReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearUserState(reducer) {
    return function (state, action) {
        if (action.type === AuthActions.LOGOUT) {
            state = undefined;
        }
        return reducer(state, action);
    };
}
export const metaReducers = [clearUserState];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvUGF0cnlrL0Rlc2t0b3Avc3BhcnRhY3VzL3Byb2plY3RzL2NvcmUvIiwic291cmNlcyI6WyJzcmMvdXNlci9zdG9yZS9yZWR1Y2Vycy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQ3pELE9BQU8sRUFHTCxlQUFlLEdBRWhCLE1BQU0sYUFBYSxDQUFDO0FBQ3JCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQWtCMUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBQzNFLE9BQU8sRUFDTCxnQkFBZ0IsRUFDaEIsd0JBQXdCLEVBQ3hCLGlCQUFpQixFQUNqQixPQUFPLEVBRVAsY0FBYyxFQUNkLGFBQWEsRUFDYixpQkFBaUIsRUFDakIsa0JBQWtCLEVBQ2xCLFdBQVcsRUFDWCxvQkFBb0IsRUFDcEIsZ0NBQWdDLEVBQ2hDLHlCQUF5QixFQUN6QiwyQkFBMkIsRUFDM0Isb0JBQW9CLEdBRXJCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sS0FBSywyQkFBMkIsTUFBTSw2QkFBNkIsQ0FBQztBQUMzRSxPQUFPLEtBQUssOEJBQThCLE1BQU0sZ0NBQWdDLENBQUM7QUFDakYsT0FBTyxLQUFLLHlCQUF5QixNQUFNLDJCQUEyQixDQUFDO0FBQ3ZFLE9BQU8sS0FBSyxxQkFBcUIsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RSxPQUFPLEtBQUssaUNBQWlDLE1BQU0sbUNBQW1DLENBQUM7QUFDdkYsT0FBTyxLQUFLLHVCQUF1QixNQUFNLHlCQUF5QixDQUFDO0FBQ25FLE9BQU8sS0FBSyw2QkFBNkIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRixPQUFPLEtBQUssa0JBQWtCLE1BQU0sMkJBQTJCLENBQUM7QUFDaEUsT0FBTyxLQUFLLG9CQUFvQixNQUFNLDZCQUE2QixDQUFDO0FBQ3BF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LFNBQVMsQ0FBQztTQUNuQjtRQUVELE9BQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNoQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUF1QixDQUFDLGNBQWMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBBY3Rpb25SZWR1Y2VyLFxuICBBY3Rpb25SZWR1Y2VyTWFwLFxuICBjb21iaW5lUmVkdWNlcnMsXG4gIE1ldGFSZWR1Y2VyLFxufSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBBdXRoQWN0aW9ucyB9IGZyb20gJy4uLy4uLy4uL2F1dGgvdXNlci1hdXRoL3N0b3JlL2FjdGlvbnMvaW5kZXgnO1xuaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2FkZHJlc3MubW9kZWwnO1xuaW1wb3J0IHsgUGF5bWVudERldGFpbHMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jYXJ0Lm1vZGVsJztcbmltcG9ydCB7IENvbnNlbnRUZW1wbGF0ZSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2NvbnNlbnQubW9kZWwnO1xuaW1wb3J0IHsgQ3VzdG9tZXJDb3Vwb25TZWFyY2hSZXN1bHQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jdXN0b21lci1jb3Vwb24ubW9kZWwnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uUHJlZmVyZW5jZSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlLm1vZGVsJztcbmltcG9ydCB7XG4gIE9yZGVyLFxuICBPcmRlckhpc3RvcnlMaXN0LFxuICBSZXR1cm5SZXF1ZXN0LFxuICBSZXR1cm5SZXF1ZXN0TGlzdCxcbn0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvb3JkZXIubW9kZWwnO1xuaW1wb3J0IHsgQ29zdENlbnRlciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL29yZy11bml0Lm1vZGVsJztcbmltcG9ydCB7IFByb2R1Y3RJbnRlcmVzdFNlYXJjaFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL21vZGVsL3Byb2R1Y3QtaW50ZXJlc3QubW9kZWwnO1xuaW1wb3J0IHtcbiAgUmVwbGVuaXNobWVudE9yZGVyLFxuICBSZXBsZW5pc2htZW50T3JkZXJMaXN0LFxufSBmcm9tICcuLi8uLi8uLi9tb2RlbC9yZXBsZW5pc2htZW50LW9yZGVyLm1vZGVsJztcbmltcG9ydCB7IGxvYWRlclJlZHVjZXIgfSBmcm9tICcuLi8uLi8uLi9zdGF0ZS91dGlscy9sb2FkZXIvbG9hZGVyLnJlZHVjZXInO1xuaW1wb3J0IHtcbiAgQ1VTVE9NRVJfQ09VUE9OUyxcbiAgTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VTLFxuICBQUk9EVUNUX0lOVEVSRVNUUyxcbiAgUkVHSU9OUyxcbiAgUmVnaW9uc1N0YXRlLFxuICBVU0VSX0FERFJFU1NFUyxcbiAgVVNFUl9DT05TRU5UUyxcbiAgVVNFUl9DT1NUX0NFTlRFUlMsXG4gIFVTRVJfT1JERVJfREVUQUlMUyxcbiAgVVNFUl9PUkRFUlMsXG4gIFVTRVJfUEFZTUVOVF9NRVRIT0RTLFxuICBVU0VSX1JFUExFTklTSE1FTlRfT1JERVJfREVUQUlMUyxcbiAgVVNFUl9SRVBMRU5JU0hNRU5UX09SREVSUyxcbiAgVVNFUl9SRVRVUk5fUkVRVUVTVF9ERVRBSUxTLFxuICBVU0VSX1JFVFVSTl9SRVFVRVNUUyxcbiAgVXNlclN0YXRlLFxufSBmcm9tICcuLi91c2VyLXN0YXRlJztcbmltcG9ydCAqIGFzIGZyb21CaWxsaW5nQ291bnRyaWVzUmVkdWNlciBmcm9tICcuL2JpbGxpbmctY291bnRyaWVzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUNvbnNpZ25tZW50VHJhY2tpbmdSZWR1Y2VyIGZyb20gJy4vY29uc2lnbm1lbnQtdHJhY2tpbmcucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQ3VzdG9tZXJDb3Vwb25SZWR1Y2VyIGZyb20gJy4vY3VzdG9tZXItY291cG9uLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbURlbGl2ZXJ5Q291bnRyaWVzIGZyb20gJy4vZGVsaXZlcnktY291bnRyaWVzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbU5vdGlmaWNhdGlvblByZWZlcmVuY2VSZWR1Y2VyIGZyb20gJy4vbm90aWZpY2F0aW9uLXByZWZlcmVuY2UucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tT3JkZXJEZXRhaWxzUmVkdWNlciBmcm9tICcuL29yZGVyLWRldGFpbHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tT3JkZXJSZXR1cm5SZXF1ZXN0UmVkdWNlciBmcm9tICcuL29yZGVyLXJldHVybi1yZXF1ZXN0LnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVBheW1lbnRSZWR1Y2VyIGZyb20gJy4vcGF5bWVudC1tZXRob2RzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUludGVyZXN0c1JlZHVjZXIgZnJvbSAnLi9wcm9kdWN0LWludGVyZXN0cy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21SZWdpb25zUmVkdWNlciBmcm9tICcuL3JlZ2lvbnMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tUmVwbGVuaXNobWVudE9yZGVyRGV0YWlsc1JlZHVjZXIgZnJvbSAnLi9yZXBsZW5pc2htZW50LW9yZGVyLWRldGFpbHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tUmVzZXRQYXNzd29yZFJlZHVjZXIgZnJvbSAnLi9yZXNldC1wYXNzd29yZC5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21UaXRsZXNSZWR1Y2VyIGZyb20gJy4vdGl0bGVzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUFkZHJlc3Nlc1JlZHVjZXIgZnJvbSAnLi91c2VyLWFkZHJlc3Nlcy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Vc2VyQ29uc2VudHNSZWR1Y2VyIGZyb20gJy4vdXNlci1jb25zZW50cy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Db3N0Q2VudGVyUmVkdWNlciBmcm9tICcuL3VzZXItY29zdC1jZW50ZXIucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tVXNlckRldGFpbHNSZWR1Y2VyIGZyb20gJy4vdXNlci1kZXRhaWxzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVVzZXJPcmRlcnNSZWR1Y2VyIGZyb20gJy4vdXNlci1vcmRlcnMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tVXNlclJlcGxlbmlzaG1lbnRPcmRlcnNSZWR1Y2VyIGZyb20gJy4vdXNlci1yZXBsZW5pc2htZW50LW9yZGVycy5yZWR1Y2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZHVjZXJzKCk6IEFjdGlvblJlZHVjZXJNYXA8VXNlclN0YXRlPiB7XG4gIHJldHVybiB7XG4gICAgYWNjb3VudDogY29tYmluZVJlZHVjZXJzKHtcbiAgICAgIGRldGFpbHM6IGZyb21Vc2VyRGV0YWlsc1JlZHVjZXIucmVkdWNlcixcbiAgICB9KSxcbiAgICBhZGRyZXNzZXM6IGxvYWRlclJlZHVjZXI8QWRkcmVzc1tdPihcbiAgICAgIFVTRVJfQUREUkVTU0VTLFxuICAgICAgZnJvbUFkZHJlc3Nlc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgYmlsbGluZ0NvdW50cmllczogZnJvbUJpbGxpbmdDb3VudHJpZXNSZWR1Y2VyLnJlZHVjZXIsXG4gICAgY29uc2VudHM6IGxvYWRlclJlZHVjZXI8Q29uc2VudFRlbXBsYXRlW10+KFxuICAgICAgVVNFUl9DT05TRU5UUyxcbiAgICAgIGZyb21Vc2VyQ29uc2VudHNSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIHBheW1lbnRzOiBsb2FkZXJSZWR1Y2VyPFBheW1lbnREZXRhaWxzW10+KFxuICAgICAgVVNFUl9QQVlNRU5UX01FVEhPRFMsXG4gICAgICBmcm9tUGF5bWVudFJlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgb3JkZXJzOiBsb2FkZXJSZWR1Y2VyPE9yZGVySGlzdG9yeUxpc3Q+KFxuICAgICAgVVNFUl9PUkRFUlMsXG4gICAgICBmcm9tVXNlck9yZGVyc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgb3JkZXI6IGxvYWRlclJlZHVjZXI8T3JkZXI+KFxuICAgICAgVVNFUl9PUkRFUl9ERVRBSUxTLFxuICAgICAgZnJvbU9yZGVyRGV0YWlsc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgcmVwbGVuaXNobWVudE9yZGVyczogbG9hZGVyUmVkdWNlcjxSZXBsZW5pc2htZW50T3JkZXJMaXN0PihcbiAgICAgIFVTRVJfUkVQTEVOSVNITUVOVF9PUkRFUlMsXG4gICAgICBmcm9tVXNlclJlcGxlbmlzaG1lbnRPcmRlcnNSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIG9yZGVyUmV0dXJuOiBsb2FkZXJSZWR1Y2VyPFJldHVyblJlcXVlc3Q+KFVTRVJfUkVUVVJOX1JFUVVFU1RfREVUQUlMUyksXG4gICAgb3JkZXJSZXR1cm5MaXN0OiBsb2FkZXJSZWR1Y2VyPFJldHVyblJlcXVlc3RMaXN0PihcbiAgICAgIFVTRVJfUkVUVVJOX1JFUVVFU1RTLFxuICAgICAgZnJvbU9yZGVyUmV0dXJuUmVxdWVzdFJlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgY291bnRyaWVzOiBmcm9tRGVsaXZlcnlDb3VudHJpZXMucmVkdWNlcixcbiAgICB0aXRsZXM6IGZyb21UaXRsZXNSZWR1Y2VyLnJlZHVjZXIsXG4gICAgcmVnaW9uczogbG9hZGVyUmVkdWNlcjxSZWdpb25zU3RhdGU+KFJFR0lPTlMsIGZyb21SZWdpb25zUmVkdWNlci5yZWR1Y2VyKSxcbiAgICByZXNldFBhc3N3b3JkOiBmcm9tUmVzZXRQYXNzd29yZFJlZHVjZXIucmVkdWNlcixcbiAgICBjb25zaWdubWVudFRyYWNraW5nOiBmcm9tQ29uc2lnbm1lbnRUcmFja2luZ1JlZHVjZXIucmVkdWNlcixcbiAgICBjdXN0b21lckNvdXBvbnM6IGxvYWRlclJlZHVjZXI8Q3VzdG9tZXJDb3Vwb25TZWFyY2hSZXN1bHQ+KFxuICAgICAgQ1VTVE9NRVJfQ09VUE9OUyxcbiAgICAgIGZyb21DdXN0b21lckNvdXBvblJlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgbm90aWZpY2F0aW9uUHJlZmVyZW5jZXM6IGxvYWRlclJlZHVjZXI8Tm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdPihcbiAgICAgIE5PVElGSUNBVElPTl9QUkVGRVJFTkNFUyxcbiAgICAgIGZyb21Ob3RpZmljYXRpb25QcmVmZXJlbmNlUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBwcm9kdWN0SW50ZXJlc3RzOiBsb2FkZXJSZWR1Y2VyPFByb2R1Y3RJbnRlcmVzdFNlYXJjaFJlc3VsdD4oXG4gICAgICBQUk9EVUNUX0lOVEVSRVNUUyxcbiAgICAgIGZyb21JbnRlcmVzdHNSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIGNvc3RDZW50ZXJzOiBsb2FkZXJSZWR1Y2VyPENvc3RDZW50ZXJbXT4oXG4gICAgICBVU0VSX0NPU1RfQ0VOVEVSUyxcbiAgICAgIGZyb21Db3N0Q2VudGVyUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICByZXBsZW5pc2htZW50T3JkZXI6IGxvYWRlclJlZHVjZXI8UmVwbGVuaXNobWVudE9yZGVyPihcbiAgICAgIFVTRVJfUkVQTEVOSVNITUVOVF9PUkRFUl9ERVRBSUxTLFxuICAgICAgZnJvbVJlcGxlbmlzaG1lbnRPcmRlckRldGFpbHNSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgcmVkdWNlclRva2VuOiBJbmplY3Rpb25Ub2tlbjxcbiAgQWN0aW9uUmVkdWNlck1hcDxVc2VyU3RhdGU+XG4+ID0gbmV3IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8VXNlclN0YXRlPj4oJ1VzZXJSZWR1Y2VycycpO1xuXG5leHBvcnQgY29uc3QgcmVkdWNlclByb3ZpZGVyOiBQcm92aWRlciA9IHtcbiAgcHJvdmlkZTogcmVkdWNlclRva2VuLFxuICB1c2VGYWN0b3J5OiBnZXRSZWR1Y2Vycyxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJTdGF0ZShcbiAgcmVkdWNlcjogQWN0aW9uUmVkdWNlcjxhbnk+XG4pOiBBY3Rpb25SZWR1Y2VyPGFueT4ge1xuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IEF1dGhBY3Rpb25zLkxPR09VVCkge1xuICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBtZXRhUmVkdWNlcnM6IE1ldGFSZWR1Y2VyPGFueT5bXSA9IFtjbGVhclVzZXJTdGF0ZV07XG4iXX0=