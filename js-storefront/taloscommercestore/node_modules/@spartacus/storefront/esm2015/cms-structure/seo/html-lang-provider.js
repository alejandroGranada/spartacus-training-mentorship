import { APP_INITIALIZER } from '@angular/core';
import { LanguageService, WindowRef } from '@spartacus/core';
export const htmlLangProvider = {
    provide: APP_INITIALIZER,
    multi: true,
    useFactory: setHtmlLangAttribute,
    deps: [WindowRef, LanguageService],
};
/**
 * Sets active language in <html lang="">
 */
export function setHtmlLangAttribute(winRef, languageService) {
    const result = () => {
        languageService.getActive().subscribe((lang) => {
            winRef.document.documentElement.lang = lang.replace(/_/g, '-');
        });
    };
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC1sYW5nLXByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL1BhdHJ5ay9EZXNrdG9wL3NwYXJ0YWN1cy9wcm9qZWN0cy9zdG9yZWZyb250bGliL3NyYy8iLCJzb3VyY2VzIjpbImNtcy1zdHJ1Y3R1cmUvc2VvL2h0bWwtbGFuZy1wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQzFELE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFN0QsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQWE7SUFDeEMsT0FBTyxFQUFFLGVBQWU7SUFDeEIsS0FBSyxFQUFFLElBQUk7SUFDWCxVQUFVLEVBQUUsb0JBQW9CO0lBQ2hDLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxlQUFlLENBQUM7Q0FDbkMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxVQUFVLG9CQUFvQixDQUNsQyxNQUFpQixFQUNqQixlQUFnQztJQUVoQyxNQUFNLE1BQU0sR0FBRyxHQUFHLEVBQUU7UUFDbEIsZUFBZSxDQUFDLFNBQVMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQzdDLE1BQU0sQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUNGLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUFBfSU5JVElBTElaRVIsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMYW5ndWFnZVNlcnZpY2UsIFdpbmRvd1JlZiB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5cbmV4cG9ydCBjb25zdCBodG1sTGFuZ1Byb3ZpZGVyOiBQcm92aWRlciA9IHtcbiAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICBtdWx0aTogdHJ1ZSxcbiAgdXNlRmFjdG9yeTogc2V0SHRtbExhbmdBdHRyaWJ1dGUsXG4gIGRlcHM6IFtXaW5kb3dSZWYsIExhbmd1YWdlU2VydmljZV0sXG59O1xuXG4vKipcbiAqIFNldHMgYWN0aXZlIGxhbmd1YWdlIGluIDxodG1sIGxhbmc9XCJcIj5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEh0bWxMYW5nQXR0cmlidXRlKFxuICB3aW5SZWY6IFdpbmRvd1JlZixcbiAgbGFuZ3VhZ2VTZXJ2aWNlOiBMYW5ndWFnZVNlcnZpY2Vcbikge1xuICBjb25zdCByZXN1bHQgPSAoKSA9PiB7XG4gICAgbGFuZ3VhZ2VTZXJ2aWNlLmdldEFjdGl2ZSgpLnN1YnNjcmliZSgobGFuZykgPT4ge1xuICAgICAgd2luUmVmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nID0gbGFuZy5yZXBsYWNlKC9fL2csICctJyk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG4iXX0=