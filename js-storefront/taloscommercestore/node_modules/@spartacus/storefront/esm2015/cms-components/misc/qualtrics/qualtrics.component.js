import { Component, isDevMode } from '@angular/core';
import { QualtricsConfig } from './config/qualtrics-config';
import { QualtricsLoaderService } from './qualtrics-loader.service';
/**
 * @deprecated since 3.1 - moved to feature-lib
 * Please take a look at https://sap.github.io/spartacus-docs/qualtrics-integration/#page-title
 * to see how to migrate into the new feature-lib.
 * Do not import from the storefront. Instead import from the qualtrics feature-lib.
 *
 * Adds the Qualtrics deployment script whenever the component is loaded. The
 * deployment script is loaded from the global configuration (`qualtrics.scriptSource`).
 */
export class QualtricsComponent {
    constructor(qualtricsLoader, config) {
        var _a;
        this.qualtricsLoader = qualtricsLoader;
        this.config = config;
        if ((_a = this.config.qualtrics) === null || _a === void 0 ? void 0 : _a.scriptSource) {
            this.qualtricsLoader.addScript(this.config.qualtrics.scriptSource);
        }
        else if (isDevMode()) {
            console.warn(`We're unable to add the Qualtrics deployment code as there is no script source defined in config.qualtrics.scriptSource.`);
        }
    }
}
QualtricsComponent.decorators = [
    { type: Component, args: [{
                selector: 'cx-qualtrics',
                template: ``
            },] }
];
QualtricsComponent.ctorParameters = () => [
    { type: QualtricsLoaderService },
    { type: QualtricsConfig }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVhbHRyaWNzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9QYXRyeWsvRGVza3RvcC9zcGFydGFjdXMvcHJvamVjdHMvc3RvcmVmcm9udGxpYi9zcmMvIiwic291cmNlcyI6WyJjbXMtY29tcG9uZW50cy9taXNjL3F1YWx0cmljcy9xdWFsdHJpY3MuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRTs7Ozs7Ozs7R0FRRztBQUtILE1BQU0sT0FBTyxrQkFBa0I7SUFDN0IsWUFDWSxlQUF1QyxFQUN2QyxNQUF1Qjs7UUFEdkIsb0JBQWUsR0FBZixlQUFlLENBQXdCO1FBQ3ZDLFdBQU0sR0FBTixNQUFNLENBQWlCO1FBRWpDLFVBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLDBDQUFFLFlBQVksRUFBRTtZQUN2QyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUNwRTthQUFNLElBQUksU0FBUyxFQUFFLEVBQUU7WUFDdEIsT0FBTyxDQUFDLElBQUksQ0FDViwwSEFBMEgsQ0FDM0gsQ0FBQztTQUNIO0lBQ0gsQ0FBQzs7O1lBaEJGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsY0FBYztnQkFDeEIsUUFBUSxFQUFFLEVBQUU7YUFDYjs7O1lBYlEsc0JBQXNCO1lBRHRCLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIGlzRGV2TW9kZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUXVhbHRyaWNzQ29uZmlnIH0gZnJvbSAnLi9jb25maWcvcXVhbHRyaWNzLWNvbmZpZyc7XG5pbXBvcnQgeyBRdWFsdHJpY3NMb2FkZXJTZXJ2aWNlIH0gZnJvbSAnLi9xdWFsdHJpY3MtbG9hZGVyLnNlcnZpY2UnO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaW5jZSAzLjEgLSBtb3ZlZCB0byBmZWF0dXJlLWxpYlxuICogUGxlYXNlIHRha2UgYSBsb29rIGF0IGh0dHBzOi8vc2FwLmdpdGh1Yi5pby9zcGFydGFjdXMtZG9jcy9xdWFsdHJpY3MtaW50ZWdyYXRpb24vI3BhZ2UtdGl0bGVcbiAqIHRvIHNlZSBob3cgdG8gbWlncmF0ZSBpbnRvIHRoZSBuZXcgZmVhdHVyZS1saWIuXG4gKiBEbyBub3QgaW1wb3J0IGZyb20gdGhlIHN0b3JlZnJvbnQuIEluc3RlYWQgaW1wb3J0IGZyb20gdGhlIHF1YWx0cmljcyBmZWF0dXJlLWxpYi5cbiAqXG4gKiBBZGRzIHRoZSBRdWFsdHJpY3MgZGVwbG95bWVudCBzY3JpcHQgd2hlbmV2ZXIgdGhlIGNvbXBvbmVudCBpcyBsb2FkZWQuIFRoZVxuICogZGVwbG95bWVudCBzY3JpcHQgaXMgbG9hZGVkIGZyb20gdGhlIGdsb2JhbCBjb25maWd1cmF0aW9uIChgcXVhbHRyaWNzLnNjcmlwdFNvdXJjZWApLlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1xdWFsdHJpY3MnLFxuICB0ZW1wbGF0ZTogYGAsXG59KVxuZXhwb3J0IGNsYXNzIFF1YWx0cmljc0NvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBxdWFsdHJpY3NMb2FkZXI6IFF1YWx0cmljc0xvYWRlclNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNvbmZpZzogUXVhbHRyaWNzQ29uZmlnXG4gICkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5xdWFsdHJpY3M/LnNjcmlwdFNvdXJjZSkge1xuICAgICAgdGhpcy5xdWFsdHJpY3NMb2FkZXIuYWRkU2NyaXB0KHRoaXMuY29uZmlnLnF1YWx0cmljcy5zY3JpcHRTb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAoaXNEZXZNb2RlKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFdlJ3JlIHVuYWJsZSB0byBhZGQgdGhlIFF1YWx0cmljcyBkZXBsb3ltZW50IGNvZGUgYXMgdGhlcmUgaXMgbm8gc2NyaXB0IHNvdXJjZSBkZWZpbmVkIGluIGNvbmZpZy5xdWFsdHJpY3Muc2NyaXB0U291cmNlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iXX0=