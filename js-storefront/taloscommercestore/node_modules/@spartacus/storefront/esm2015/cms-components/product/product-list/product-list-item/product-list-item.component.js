import { ChangeDetectionStrategy, Component, Input, Optional, } from '@angular/core';
import { ProductListOutlets } from '../../product-outlets.model';
import { ProductListItemContextSource } from '../model/product-list-item-context-source.model';
import { ProductListItemContext } from '../model/product-list-item-context.model';
export class ProductListItemComponent {
    constructor(productListItemContextSource) {
        this.productListItemContextSource = productListItemContextSource;
        this.ProductListOutlets = ProductListOutlets;
    }
    ngOnChanges(changes) {
        var _a;
        if (changes === null || changes === void 0 ? void 0 : changes.product) {
            (_a = this.productListItemContextSource) === null || _a === void 0 ? void 0 : _a.product$.next(this.product);
        }
    }
}
ProductListItemComponent.decorators = [
    { type: Component, args: [{
                selector: 'cx-product-list-item',
                template: "<div class=\"row\">\n  <div class=\"col-12 col-md-4\">\n    <a\n      [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n      class=\"cx-product-image-container\"\n      tabindex=\"-1\"\n    >\n      <cx-media\n        class=\"cx-product-image\"\n        [container]=\"product.images?.PRIMARY\"\n        format=\"product\"\n        [alt]=\"product.summary\"\n      ></cx-media>\n    </a>\n  </div>\n  <div class=\"col-12 col-md-8\">\n    <a\n      [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n      class=\"cx-product-name\"\n      [innerHtml]=\"product.nameHtml\"\n    ></a>\n    <cx-star-rating\n      *ngIf=\"product.averageRating\"\n      [rating]=\"product?.averageRating\"\n    ></cx-star-rating>\n    <div *ngIf=\"!product.averageRating\" class=\"cx-product-no-review\">\n      {{ 'productDetails.noReviews' | cxTranslate }}\n    </div>\n    <div class=\"cx-product-price\" aria-label=\"Product price\">\n      {{ product.price?.formattedValue }}\n    </div>\n\n    <cx-variant-style-icons\n      *ngIf=\"product.variantOptions\"\n      [variants]=\"product.variantOptions\"\n    ></cx-variant-style-icons>\n\n    <div class=\"row\">\n      <div class=\"col-12 col-md-8\">\n        <p class=\"cx-product-summary\" [innerHtml]=\"product.summary\">\n          {{ product.summary }}\n        </p>\n      </div>\n      <div class=\"col-12 col-md-4\">\n        <ng-template [cxOutlet]=\"ProductListOutlets.ITEM_ACTIONS\">\n          <cx-add-to-cart\n            *ngIf=\"product.stock?.stockLevelStatus !== 'outOfStock'\"\n            [showQuantity]=\"false\"\n            [product]=\"product\"\n          ></cx-add-to-cart>\n        </ng-template>\n      </div>\n    </div>\n  </div>\n</div>\n",
                changeDetection: ChangeDetectionStrategy.OnPush,
                providers: [
                    ProductListItemContextSource,
                    {
                        provide: ProductListItemContext,
                        useExisting: ProductListItemContextSource,
                    },
                ]
            },] }
];
ProductListItemComponent.ctorParameters = () => [
    { type: ProductListItemContextSource, decorators: [{ type: Optional }] }
];
ProductListItemComponent.propDecorators = {
    product: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC1saXN0LWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL1BhdHJ5ay9EZXNrdG9wL3NwYXJ0YWN1cy9wcm9qZWN0cy9zdG9yZWZyb250bGliL3NyYy8iLCJzb3VyY2VzIjpbImNtcy1jb21wb25lbnRzL3Byb2R1Y3QvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC1pdGVtL3Byb2R1Y3QtbGlzdC1pdGVtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxLQUFLLEVBRUwsUUFBUSxHQUVULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ2pFLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGlEQUFpRCxDQUFDO0FBQy9GLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBY2xGLE1BQU0sT0FBTyx3QkFBd0I7SUFXbkMsWUFFWSw0QkFBMkQ7UUFBM0QsaUNBQTRCLEdBQTVCLDRCQUE0QixDQUErQjtRQVo5RCx1QkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztJQWE5QyxDQUFDO0lBRUosV0FBVyxDQUFDLE9BQXVCOztRQUNqQyxJQUFJLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxPQUFPLEVBQUU7WUFDcEIsTUFBQSxJQUFJLENBQUMsNEJBQTRCLDBDQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtTQUNoRTtJQUNILENBQUM7OztZQWhDRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHNCQUFzQjtnQkFDaEMsZ3REQUFpRDtnQkFDakQsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07Z0JBQy9DLFNBQVMsRUFBRTtvQkFDVCw0QkFBNEI7b0JBQzVCO3dCQUNFLE9BQU8sRUFBRSxzQkFBc0I7d0JBQy9CLFdBQVcsRUFBRSw0QkFBNEI7cUJBQzFDO2lCQUNGO2FBQ0Y7OztZQWRRLDRCQUE0Qix1QkEyQmhDLFFBQVE7OztzQkFWVixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT3B0aW9uYWwsXG4gIFNpbXBsZUNoYW5nZXMsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUHJvZHVjdExpc3RPdXRsZXRzIH0gZnJvbSAnLi4vLi4vcHJvZHVjdC1vdXRsZXRzLm1vZGVsJztcbmltcG9ydCB7IFByb2R1Y3RMaXN0SXRlbUNvbnRleHRTb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9wcm9kdWN0LWxpc3QtaXRlbS1jb250ZXh0LXNvdXJjZS5tb2RlbCc7XG5pbXBvcnQgeyBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0IH0gZnJvbSAnLi4vbW9kZWwvcHJvZHVjdC1saXN0LWl0ZW0tY29udGV4dC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LXByb2R1Y3QtbGlzdC1pdGVtJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3Byb2R1Y3QtbGlzdC1pdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1xuICAgIFByb2R1Y3RMaXN0SXRlbUNvbnRleHRTb3VyY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogUHJvZHVjdExpc3RJdGVtQ29udGV4dCxcbiAgICAgIHVzZUV4aXN0aW5nOiBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlLFxuICAgIH0sXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RMaXN0SXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gIHJlYWRvbmx5IFByb2R1Y3RMaXN0T3V0bGV0cyA9IFByb2R1Y3RMaXN0T3V0bGV0cztcbiAgQElucHV0KCkgcHJvZHVjdDogYW55O1xuXG4gIC8vIFRPRE8oIzEwOTQ2KTogbWFrZSBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlIGEgcmVxdWlyZWQgZGVwZW5kZW5jeVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuaWZpZWQtc2lnbmF0dXJlc1xuICBjb25zdHJ1Y3Rvcihwcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlOiBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlKTtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDMuMVxuICAgKi9cbiAgY29uc3RydWN0b3IoKTtcbiAgY29uc3RydWN0b3IoXG4gICAgQE9wdGlvbmFsKClcbiAgICBwcm90ZWN0ZWQgcHJvZHVjdExpc3RJdGVtQ29udGV4dFNvdXJjZT86IFByb2R1Y3RMaXN0SXRlbUNvbnRleHRTb3VyY2VcbiAgKSB7fVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM/OiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgaWYgKGNoYW5nZXM/LnByb2R1Y3QpIHtcbiAgICAgIHRoaXMucHJvZHVjdExpc3RJdGVtQ29udGV4dFNvdXJjZT8ucHJvZHVjdCQubmV4dCh0aGlzLnByb2R1Y3QpO1xuICAgIH1cbiAgfVxufVxuIl19