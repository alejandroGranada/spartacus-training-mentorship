import { APP_INITIALIZER, NgModule } from '@angular/core';
import { FeatureConfigService, provideDefaultConfig } from '@spartacus/core';
import { defaultDirectionConfig } from './config/default-direction.config';
import { DirectionService } from './direction.service';
export function initHtmlDirAttribute(directionService, featureConfigService) {
    const result = () => {
        if (featureConfigService.isLevel('2.1')) {
            return directionService.initialize();
        }
    };
    return result;
}
/**
 * Provides a configuration and APP_INITIALIZER to add the correct (language drive) html direction.
 */
export class DirectionModule {
}
DirectionModule.decorators = [
    { type: NgModule, args: [{
                providers: [
                    {
                        provide: APP_INITIALIZER,
                        multi: true,
                        useFactory: initHtmlDirAttribute,
                        deps: [DirectionService, FeatureConfigService],
                    },
                    provideDefaultConfig(defaultDirectionConfig),
                ],
            },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlyZWN0aW9uLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9QYXRyeWsvRGVza3RvcC9zcGFydGFjdXMvcHJvamVjdHMvc3RvcmVmcm9udGxpYi9zcmMvIiwic291cmNlcyI6WyJsYXlvdXQvZGlyZWN0aW9uL2RpcmVjdGlvbi5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0UsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDM0UsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdkQsTUFBTSxVQUFVLG9CQUFvQixDQUNsQyxnQkFBa0MsRUFDbEMsb0JBQTBDO0lBRTFDLE1BQU0sTUFBTSxHQUFHLEdBQUcsRUFBRTtRQUNsQixJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN2QyxPQUFPLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQ3RDO0lBQ0gsQ0FBQyxDQUFDO0lBQ0YsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQztBQUVEOztHQUVHO0FBWUgsTUFBTSxPQUFPLGVBQWU7OztZQVgzQixRQUFRLFNBQUM7Z0JBQ1IsU0FBUyxFQUFFO29CQUNUO3dCQUNFLE9BQU8sRUFBRSxlQUFlO3dCQUN4QixLQUFLLEVBQUUsSUFBSTt3QkFDWCxVQUFVLEVBQUUsb0JBQW9CO3dCQUNoQyxJQUFJLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxvQkFBb0IsQ0FBQztxQkFDL0M7b0JBQ0Qsb0JBQW9CLENBQUMsc0JBQXNCLENBQUM7aUJBQzdDO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUFBfSU5JVElBTElaRVIsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGZWF0dXJlQ29uZmlnU2VydmljZSwgcHJvdmlkZURlZmF1bHRDb25maWcgfSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xuaW1wb3J0IHsgZGVmYXVsdERpcmVjdGlvbkNvbmZpZyB9IGZyb20gJy4vY29uZmlnL2RlZmF1bHQtZGlyZWN0aW9uLmNvbmZpZyc7XG5pbXBvcnQgeyBEaXJlY3Rpb25TZXJ2aWNlIH0gZnJvbSAnLi9kaXJlY3Rpb24uc2VydmljZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0SHRtbERpckF0dHJpYnV0ZShcbiAgZGlyZWN0aW9uU2VydmljZTogRGlyZWN0aW9uU2VydmljZSxcbiAgZmVhdHVyZUNvbmZpZ1NlcnZpY2U6IEZlYXR1cmVDb25maWdTZXJ2aWNlXG4pIHtcbiAgY29uc3QgcmVzdWx0ID0gKCkgPT4ge1xuICAgIGlmIChmZWF0dXJlQ29uZmlnU2VydmljZS5pc0xldmVsKCcyLjEnKSkge1xuICAgICAgcmV0dXJuIGRpcmVjdGlvblNlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBhIGNvbmZpZ3VyYXRpb24gYW5kIEFQUF9JTklUSUFMSVpFUiB0byBhZGQgdGhlIGNvcnJlY3QgKGxhbmd1YWdlIGRyaXZlKSBodG1sIGRpcmVjdGlvbi5cbiAqL1xuQE5nTW9kdWxlKHtcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgICB1c2VGYWN0b3J5OiBpbml0SHRtbERpckF0dHJpYnV0ZSxcbiAgICAgIGRlcHM6IFtEaXJlY3Rpb25TZXJ2aWNlLCBGZWF0dXJlQ29uZmlnU2VydmljZV0sXG4gICAgfSxcbiAgICBwcm92aWRlRGVmYXVsdENvbmZpZyhkZWZhdWx0RGlyZWN0aW9uQ29uZmlnKSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgRGlyZWN0aW9uTW9kdWxlIHt9XG4iXX0=